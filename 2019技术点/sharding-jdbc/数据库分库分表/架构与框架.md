
### 轻量级数据库分库分表架构与框架

##### 垂直拆分
> 根据业务维度，将原本的一个库（表）拆分为多个库（表），每个库（表）与原有的结构不同

##### 水平拆分
> 根据分片（sharding)算法，将一个库（表）拆分为多个库（表），每个库（表）依旧保持原有的架构

### 分库分表的场景
1. 数据库中表的数量到达一定的级别
2. 数据库的吞吐量到了瓶颈
3. 扩容时对应用层的配置改变减少

### 三种分而治之的解决方案
##### 客户端分片
1. 应用层实现
> 优点：直接在应用层读取分片规则，解析分片规则，从应用层决定使用哪个数据库实例、数据库及哪个表等，这种方式适合快速上线，生产线上出现问题，容易解决；
> 缺点: 但这种方式会使数据库的连接保持比较多，需提前评估。

2. 通过定制JDBC协议实现
> 优点：针对业务逻辑层提供与JDBC一致的接阔，让开发人员不必关心分库分表的实现；
> 缺点：让分布分表在JDBC内部实现，对业务保持透明。推荐：Sharding JDBC(http://shardingjdbc.io/)

3. 通过定制ORM框架实现
> 例： mybatis

##### 代理分片
> 优点：让应用层的开发人员只关心业务逻辑的实现
> 缺点：增加了代理层
例：通过代理分片实现的框架：Cobar和Mycat
